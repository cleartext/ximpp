<?xml version="1.0" encoding="utf-8"?>
<mx:VBox 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:buddies="com.cleartext.ximpp.view.buddies.*"
	width="100%" height="100%"
	xmlns:common="com.cleartext.ximpp.views.common.*" 
	xmlns:containers="com.arc90.flexlib.containers.*"
	verticalGap="0" xmlns:list="com.universalsprout.flex.components.list.*">
	<mx:Script>
		<![CDATA[
			import com.hurlant.crypto.symmetric.NullPad;
			import com.cleartext.ximpp.models.ApplicationModel;
			
			[Autowire]
			[Bindable]
			public var appModel:ApplicationModel;
			
			override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
			{
				super.updateDisplayList(unscaledWidth, unscaledHeight);
				
				buddyList.move(6, buddyList.y);
				buddyList.setActualSize(unscaledWidth-6, buddyList.height);
			}
		
		]]>
	</mx:Script>
	<containers:CollapsiblePanel
		id="gatewayStatusPanel"
		width="100%"
		title="Gateways" 
		borderThicknessBottom="0" 
		borderThicknessLeft="0" 
		borderThicknessRight="0" 
		collapseDuration="200"
		collapsed="true"
		verticalScrollPolicy="off"
		horizontalScrollPolicy="off"
		dropShadowEnabled="false"
		>
		<mx:Label text="item1"/>
		<mx:Label text="item2"/>
		<mx:Label text="item3"/>
	</containers:CollapsiblePanel>
	
	<containers:CollapsiblePanel
		id="filterPanel"
		width="100%"
		title="Filter" 
		borderThicknessBottom="0" 
		borderThicknessLeft="0" 
		borderThicknessRight="0" 
		collapseDuration="200"
		collapsed="true"
		verticalScrollPolicy="off"
		horizontalScrollPolicy="off"
		dropShadowEnabled="false"
		>
		<common:SearchBox width="100%" />
		<mx:CheckBox label="real people" />
		<mx:CheckBox label="feeds" />
		<mx:CheckBox label="twitter" />
	</containers:CollapsiblePanel> 

	<mx:Canvas width="100%">
		<mx:Label text="sort by"
			x="7" y="3"/>
		<mx:ComboBox id="sortComboBox"
			x="60" y="0">
			<mx:dataProvider>
				<mx:String>last active</mx:String>
				<mx:String>name</mx:String>
				<mx:String>status</mx:String>
				<mx:String>group</mx:String>
			</mx:dataProvider>
		</mx:ComboBox>
	</mx:Canvas>

	<list:SproutList 
		id="buddyList" 
		dataProvider="{appModel.buddies}"
		height="100%" 
		itemRenderer="{new ClassFactory(BuddyRenderer)}">
	</list:SproutList>

	<mx:Canvas>
		<mx:Button x="20" label="add buddy" />
	</mx:Canvas>
</mx:VBox>
